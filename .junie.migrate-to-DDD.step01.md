# ğŸš€ Updated IoT Pilot Server DDD Structure

## ğŸ“‹ Production-Ready Architecture (FINAL)

```bash
src/
â”œâ”€â”€ app/                           # Next.js App Router (Presentation Layer)
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”œâ”€â”€ devices/
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx       # Device detail page
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ edit/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx   # Device edit page
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metrics/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx   # Device metrics page
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ terminal/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx   # SSH terminal page
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # Device list page
â”‚   â”‚   â”‚   â”œâ”€â”€ new/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx       # Add device page
â”‚   â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx       # Device registration page
â”‚   â”‚   â”œâ”€â”€ monitoring/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # Monitoring dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ alerts/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx       # Alerts list
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.tsx   # Alert details
â”‚   â”‚   â”‚   â”œâ”€â”€ metrics/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx       # System metrics
â”‚   â”‚   â”‚   â””â”€â”€ reports/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx       # Reports page
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # User management
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx       # User profile
â”‚   â”‚   â”‚   â””â”€â”€ new/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx       # Create user
â”‚   â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # Analytics dashboard
â”‚   â”‚   â”‚   â””â”€â”€ reports/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx       # Analytics reports
â”‚   â”‚   â””â”€â”€ page.tsx               # Main dashboard
â”‚   â”œâ”€â”€ api/                       # API Routes (Infrastructure Entry Points)
â”‚   â”‚   â”œâ”€â”€ devices/
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts           # GET /api/devices, POST /api/devices
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts       # GET/PUT/DELETE /api/devices/[id]
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ssh/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts   # POST /api/devices/[id]/ssh
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metrics/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts   # GET /api/devices/[id]/metrics
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts   # POST /api/devices/[id]/commands
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ status/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts   # GET /api/devices/[id]/status
â”‚   â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts       # POST /api/devices/register
â”‚   â”‚   â”‚   â””â”€â”€ bulk/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts       # POST /api/devices/bulk
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts       # POST /api/auth/login
â”‚   â”‚   â”‚   â”œâ”€â”€ logout/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts       # POST /api/auth/logout
â”‚   â”‚   â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts       # POST /api/auth/register
â”‚   â”‚   â”‚   â”œâ”€â”€ session/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts       # GET /api/auth/session
â”‚   â”‚   â”‚   â””â”€â”€ refresh/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts       # POST /api/auth/refresh
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts           # GET /api/users, POST /api/users
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts       # GET/PUT/DELETE /api/users/[id]
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ profile/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts   # GET/PUT /api/users/[id]/profile
â”‚   â”‚   â”‚   â””â”€â”€ current/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts       # GET /api/users/current
â”‚   â”‚   â”œâ”€â”€ monitoring/
â”‚   â”‚   â”‚   â”œâ”€â”€ metrics/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts       # GET /api/monitoring/metrics
â”‚   â”‚   â”‚   â”œâ”€â”€ alerts/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts       # GET/POST /api/monitoring/alerts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ route.ts   # GET/PUT/DELETE /api/monitoring/alerts/[id]
â”‚   â”‚   â”‚   â”œâ”€â”€ thresholds/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts       # GET/POST /api/monitoring/thresholds
â”‚   â”‚   â”‚   â””â”€â”€ reports/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts       # GET /api/monitoring/reports
â”‚   â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ route.ts       # GET/POST /api/analytics/reports
â”‚   â”‚   â”‚   â””â”€â”€ metrics/
â”‚   â”‚   â”‚       â””â”€â”€ route.ts       # GET /api/analytics/metrics
â”‚   â”‚   â”œâ”€â”€ health/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts           # GET /api/health
â”‚   â”‚   â””â”€â”€ websocket/
â”‚   â”‚       â””â”€â”€ route.ts           # WebSocket endpoint
â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ page.tsx               # Login page
â”‚   â”œâ”€â”€ register/
â”‚   â”‚   â””â”€â”€ page.tsx               # User registration page
â”‚   â”œâ”€â”€ error.tsx                  # Global error page
â”‚   â”œâ”€â”€ loading.tsx                # Global loading page
â”‚   â”œâ”€â”€ not-found.tsx              # 404 page
â”‚   â””â”€â”€ layout.tsx                 # Root layout
â”‚
â”œâ”€â”€ lib/                           # Core DDD Implementation
â”‚   â”œâ”€â”€ device/                    # ğŸ¢ DEVICE DOMAIN
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ register-device/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ register-device.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ register-device.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update-device/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update-device.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ update-device.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ remove-device/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ remove-device.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ remove-device.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ activate-device/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ activate-device.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ activate-device.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ deactivate-device/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ deactivate-device.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ deactivate-device.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ execute-ssh-command/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ execute-ssh-command.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ execute-ssh-command.handler.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ bulk-register-devices/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ bulk-register-devices.command.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ bulk-register-devices.handler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ queries/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-device/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-device.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-device.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list-devices/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list-devices.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ list-devices.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-device-metrics/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-device-metrics.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-device-metrics.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-device-status/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-device-status.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-device-status.handler.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ search-devices/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ search-devices.query.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ search-devices.handler.ts
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â”œâ”€â”€ device-finder.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ ssh-session-manager.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ device-validator.ts
â”‚   â”‚   â”‚       â””â”€â”€ metrics-aggregator.ts
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device.entity.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-metrics.entity.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ssh-session.entity.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ device-command.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-id.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-name.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ip-address.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mac-address.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ssh-credentials.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-type.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-status.vo.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ port.vo.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-creator.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-updater.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-remover.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ssh-connector.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metrics-collector.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ device-validator.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ interfaces/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-repository.interface.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ssh-client.interface.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metrics-collector.interface.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ device-notification.interface.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ policies/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-exists.policy.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-accessible.policy.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ssh-allowed.policy.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-naming.policy.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ metric-collection.policy.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ events/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-registered.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-updated.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-removed.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-connected.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ device-disconnected.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ssh-session-started.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ssh-session-ended.event.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ metrics-collected.event.ts
â”‚   â”‚   â”‚   â””â”€â”€ exceptions/
â”‚   â”‚   â”‚       â”œâ”€â”€ device-not-found.exception.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ device-already-exists.exception.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ ssh-connection-failed.exception.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ invalid-device-data.exception.ts
â”‚   â”‚   â”‚       â””â”€â”€ device-access-denied.exception.ts
â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚       â”‚   â”œâ”€â”€ prisma-device.repository.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ in-memory-device.repository.ts
â”‚   â”‚       â”‚   â””â”€â”€ redis-device-cache.repository.ts
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”‚   â”œâ”€â”€ node-ssh-client.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ telegraf-metrics-collector.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ docker-stats-collector.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ mqtt-device-notifier.ts
â”‚   â”‚       â”‚   â””â”€â”€ websocket-device-notifier.ts
â”‚   â”‚       â”œâ”€â”€ dto/
â”‚   â”‚       â”‚   â”œâ”€â”€ device.dto.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ device-metrics.dto.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ ssh-command.dto.ts
â”‚   â”‚       â”‚   â””â”€â”€ device-registration.dto.ts
â”‚   â”‚       â””â”€â”€ mappers/
â”‚   â”‚           â”œâ”€â”€ device.mapper.ts
â”‚   â”‚           â”œâ”€â”€ device-metrics.mapper.ts
â”‚   â”‚           â””â”€â”€ ssh-session.mapper.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ user/                      # ğŸ¢ USER DOMAIN  
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ authenticate-user/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ authenticate-user.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ authenticate-user.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ register-user/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ register-user.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ register-user.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update-user/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update-user.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ update-user.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ change-password/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ change-password.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ change-password.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ logout-user/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ logout-user.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ logout-user.handler.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ refresh-session/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ refresh-session.command.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ refresh-session.handler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ queries/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-current-user/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-current-user.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-current-user.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-user-by-id/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-user-by-id.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-user-by-id.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list-users/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list-users.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ list-users.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ validate-session/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ validate-session.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ validate-session.handler.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-user-profile/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ get-user-profile.query.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ get-user-profile.handler.ts
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â”œâ”€â”€ user-finder.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ session-manager.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ password-manager.ts
â”‚   â”‚   â”‚       â””â”€â”€ profile-manager.ts
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user.entity.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-session.entity.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-profile.entity.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user-preferences.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-id.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ email.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ password.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-role.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ session-token.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ full-name.vo.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ username.vo.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-creator.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-authenticator.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ password-hasher.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ session-creator.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ profile-updater.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ interfaces/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-repository.interface.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ auth-provider.interface.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ session-store.interface.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ password-hasher.interface.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ policies/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-exists.policy.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ valid-credentials.policy.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ session-valid.policy.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ password-strength.policy.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ unique-email.policy.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ events/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-registered.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-logged-in.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-logged-out.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ user-updated.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ password-changed.event.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ session-expired.event.ts
â”‚   â”‚   â”‚   â””â”€â”€ exceptions/
â”‚   â”‚   â”‚       â”œâ”€â”€ invalid-credentials.exception.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ session-expired.exception.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ user-not-found.exception.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ email-already-exists.exception.ts
â”‚   â”‚   â”‚       â””â”€â”€ weak-password.exception.ts
â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚       â”‚   â”œâ”€â”€ prisma-user.repository.ts
â”‚   â”‚       â”‚   â””â”€â”€ redis-session.repository.ts
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”‚   â”œâ”€â”€ jwt-auth-provider.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ bcrypt-password-hasher.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ redis-session-store.ts
â”‚   â”‚       â”‚   â””â”€â”€ email-service.ts
â”‚   â”‚       â”œâ”€â”€ dto/
â”‚   â”‚       â”‚   â”œâ”€â”€ user.dto.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ login.dto.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ registration.dto.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ session.dto.ts
â”‚   â”‚       â”‚   â””â”€â”€ profile.dto.ts
â”‚   â”‚       â””â”€â”€ mappers/
â”‚   â”‚           â”œâ”€â”€ user.mapper.ts
â”‚   â”‚           â”œâ”€â”€ session.mapper.ts
â”‚   â”‚           â””â”€â”€ profile.mapper.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ monitoring/                # ğŸ¢ MONITORING DOMAIN
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-alert/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-alert.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ create-alert.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ acknowledge-alert/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ acknowledge-alert.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ acknowledge-alert.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ resolve-alert/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ resolve-alert.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ resolve-alert.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-threshold/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-threshold.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ create-threshold.handler.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ update-threshold/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ update-threshold.command.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ update-threshold.handler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ queries/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-system-metrics/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-system-metrics.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-system-metrics.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list-alerts/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list-alerts.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ list-alerts.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-alert-details/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-alert-details.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-alert-details.handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-thresholds/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-thresholds.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-thresholds.handler.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ generate-report/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ generate-report.query.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ generate-report.handler.ts
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â”œâ”€â”€ metrics-aggregator.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ alert-processor.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ threshold-evaluator.ts
â”‚   â”‚   â”‚       â””â”€â”€ report-generator.ts
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metric.entity.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert.entity.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ threshold.entity.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ monitoring-report.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metric-value.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert-severity.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert-status.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ time-range.vo.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ threshold-config.vo.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ metric-type.vo.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert-creator.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metrics-processor.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ threshold-evaluator.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notification-dispatcher.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ report-composer.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ interfaces/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metrics-repository.interface.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert-repository.interface.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ threshold-repository.interface.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notification-service.interface.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ metrics-source.interface.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ policies/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ threshold-exceeded.policy.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert-rules.policy.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metric-validation.policy.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ notification-rules.policy.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ events/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert-triggered.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert-acknowledged.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ alert-resolved.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ metric-recorded.event.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ threshold-breached.event.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ report-generated.event.ts
â”‚   â”‚   â”‚   â””â”€â”€ exceptions/
â”‚   â”‚   â”‚       â”œâ”€â”€ invalid-metric.exception.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ alert-not-found.exception.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ threshold-not-found.exception.ts
â”‚   â”‚   â”‚       â””â”€â”€ invalid-threshold.exception.ts
â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚       â”‚   â”œâ”€â”€ influxdb-metrics.repository.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ prisma-alert.repository.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ prisma-threshold.repository.ts
â”‚   â”‚       â”‚   â””â”€â”€ redis-metrics-cache.repository.ts
â”‚   â”‚       â”œâ”€â”€ services/
â”‚   â”‚       â”‚   â”œâ”€â”€ grafana-dashboard.service.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ prometheus-collector.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ email-notification.service.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ slack-notification.service.ts
â”‚   â”‚       â”‚   â””â”€â”€ sms-notification.service.ts
â”‚   â”‚       â”œâ”€â”€ dto/
â”‚   â”‚       â”‚   â”œâ”€â”€ metric.dto.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ alert.dto.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ threshold.dto.ts
â”‚   â”‚       â”‚   â””â”€â”€ report.dto.ts
â”‚   â”‚       â””â”€â”€ mappers/
â”‚   â”‚           â”œâ”€â”€ metric.mapper.ts
â”‚   â”‚           â”œâ”€â”€ alert.mapper.ts
â”‚   â”‚           â”œâ”€â”€ threshold.mapper.ts
â”‚   â”‚           â””â”€â”€ report.mapper.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ analytics/                 # ğŸ¢ ANALYTICS DOMAIN (NEW)
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-report/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-report.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ create-report.handler.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ schedule-report/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ schedule-report.command.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ schedule-report.handler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ queries/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-analytics-data/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-analytics-data.query.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-analytics-data.handler.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ list-reports/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ list-reports.query.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ list-reports.handler.ts
â”‚   â”‚   â”‚   â””â”€â”€ services/
â”‚   â”‚   â”‚       â”œâ”€â”€ data-aggregator.ts
â”‚   â”‚   â”‚       â””â”€â”€ report-builder.ts
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ analytics-report.entity.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ data-point.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ report-type.vo.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ aggregation-period.vo.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ analytics-calculator.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ interfaces/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ analytics-repository.interface.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ events/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ report-created.event.ts
â”‚   â”‚   â”‚   â””â”€â”€ exceptions/
â”‚   â”‚   â”‚       â””â”€â”€ invalid-report-type.exception.ts
â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â”‚       â”œâ”€â”€ repositories/
â”‚   â”‚       â”‚   â””â”€â”€ prisma-analytics.repository.ts
â”‚   â”‚       â”œâ”€â”€ dto/
â”‚   â”‚       â”‚   â””â”€â”€ analytics-report.dto.ts
â”‚   â”‚       â””â”€â”€ mappers/
â”‚   â”‚           â””â”€â”€ analytics.mapper.ts
â”‚   â”‚
â”‚   â””â”€â”€ shared/                    # ğŸ”§ SHARED KERNEL
â”‚       â”œâ”€â”€ domain/
â”‚       â”‚   â”œâ”€â”€ value-objects/
â”‚       â”‚   â”‚   â”œâ”€â”€ id.vo.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ email.vo.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ date-time.vo.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ ip-address.vo.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ port.vo.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ pagination.vo.ts
â”‚       â”‚   â”‚   â””â”€â”€ sort-order.vo.ts
â”‚       â”‚   â”œâ”€â”€ interfaces/
â”‚       â”‚   â”‚   â”œâ”€â”€ entity.interface.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ repository.interface.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ command.interface.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ query.interface.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ event.interface.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ value-object.interface.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ aggregate-root.interface.ts
â”‚       â”‚   â”‚   â””â”€â”€ domain-service.interface.ts
â”‚       â”‚   â”œâ”€â”€ exceptions/
â”‚       â”‚   â”‚   â”œâ”€â”€ domain.exception.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ validation.exception.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ not-found.exception.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ unauthorized.exception.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ forbidden.exception.ts
â”‚       â”‚   â”‚   â””â”€â”€ conflict.exception.ts
â”‚       â”‚   â”œâ”€â”€ events/
â”‚       â”‚   â”‚   â”œâ”€â”€ domain.event.ts
â”‚       â”‚   â”‚   â””â”€â”€ integration.event.ts
â”‚       â”‚   â””â”€â”€ specifications/
â”‚       â”‚       â”œâ”€â”€ specification.interface.ts
â”‚       â”‚       â””â”€â”€ composite-specification.ts
â”‚       â”œâ”€â”€ application/
â”‚       â”‚   â”œâ”€â”€ bus/
â”‚       â”‚   â”‚   â”œâ”€â”€ command.bus.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ query.bus.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ event.bus.ts
â”‚       â”‚   â”‚   â””â”€â”€ middleware/
â”‚       â”‚   â”‚       â”œâ”€â”€ logging.middleware.ts
â”‚       â”‚   â”‚       â”œâ”€â”€ validation.middleware.ts
â”‚       â”‚   â”‚       â”œâ”€â”€ auth.middleware.ts
â”‚       â”‚   â”‚       â””â”€â”€ metrics.middleware.ts
â”‚       â”‚   â”œâ”€â”€ interfaces/
â”‚       â”‚   â”‚   â”œâ”€â”€ command-handler.interface.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ query-handler.interface.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ event-handler.interface.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ middleware.interface.ts
â”‚       â”‚   â”‚   â””â”€â”€ use-case.interface.ts
â”‚       â”‚   â”œâ”€â”€ dto/
â”‚       â”‚   â”‚   â”œâ”€â”€ pagination.dto.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ response.dto.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ error.dto.ts
â”‚       â”‚   â”‚   â””â”€â”€ success.dto.ts
â”‚       â”‚   â””â”€â”€ decorators/
â”‚       â”‚       â”œâ”€â”€ command-handler.decorator.ts
â”‚       â”‚       â”œâ”€â”€ query-handler.decorator.ts
â”‚       â”‚       â”œâ”€â”€ event-handler.decorator.ts
â”‚       â”‚       â””â”€â”€ validate.decorator.ts
â”‚       â””â”€â”€ infrastructure/
â”‚           â”œâ”€â”€ persistence/
â”‚           â”‚   â”œâ”€â”€ prisma/
â”‚           â”‚   â”‚   â”œâ”€â”€ prisma.client.ts
â”‚           â”‚   â”‚   â”œâ”€â”€ connection.ts
â”‚           â”‚   â”‚   â””â”€â”€ migrations/
â”‚           â”‚   â”œâ”€â”€ redis/
â”‚           â”‚   â”‚   â”œâ”€â”€ redis.client.ts
â”‚           â”‚   â”‚   â””â”€â”€ connection.ts
â”‚           â”‚   â”œâ”€â”€ influxdb/
â”‚           â”‚   â”‚   â”œâ”€â”€ influxdb.client.ts
â”‚           â”‚   â”‚   â””â”€â”€ connection.ts
â”‚           â”‚   â””â”€â”€ mongodb/
â”‚           â”‚       â”œâ”€â”€ mongodb.client.ts
â”‚           â”‚       â””â”€â”€ connection.ts
â”‚           â”œâ”€â”€ config/
â”‚           â”‚   â”œâ”€â”€ database.config.ts
â”‚           â”‚   â”œâ”€â”€ auth.config.ts
â”‚           â”‚   â”œâ”€â”€ monitoring.config.ts
â”‚           â”‚   â”œâ”€â”€ redis.config.ts
â”‚           â”‚   â”œâ”€â”€ mqtt.config.ts
â”‚           â”‚   â”œâ”€â”€ websocket.config.ts
â”‚           â”‚   â””â”€â”€ environment.config.ts
â”‚           â”œâ”€â”€ middleware/
â”‚           â”‚   â”œâ”€â”€ auth.middleware.ts
â”‚           â”‚   â”œâ”€â”€ error.middleware.ts
â”‚           â”‚   â”œâ”€â”€ logging.middleware.ts
â”‚           â”‚   â”œâ”€â”€ cors.middleware.ts
â”‚           â”‚   â”œâ”€â”€ rate-limit.middleware.ts
â”‚           â”‚   â””â”€â”€ validation.middleware.ts
â”‚           â”œâ”€â”€ external/
â”‚           â”‚   â”œâ”€â”€ mqtt/
â”‚           â”‚   â”‚   â”œâ”€â”€ mqtt.client.ts
â”‚           â”‚   â”‚   â””â”€â”€ mqtt.service.ts
â”‚           â”‚   â”œâ”€â”€ websocket/
â”‚           â”‚   â”‚   â”œâ”€â”€ websocket.server.ts
â”‚           â”‚   â”‚   â””â”€â”€ websocket.service.ts
â”‚           â”‚   â”œâ”€â”€ email/
â”‚           â”‚   â”‚   â”œâ”€â”€ email.client.ts
â”‚           â”‚   â”‚   â””â”€â”€ email.service.ts
â”‚           â”‚   â””â”€â”€ notification/
â”‚           â”‚       â”œâ”€â”€ slack.service.ts
â”‚           â”‚       â”œâ”€â”€ discord.service.ts
â”‚           â”‚       â””â”€â”€ sms.service.ts
â”‚           â”œâ”€â”€ security/
â”‚           â”‚   â”œâ”€â”€ encryption.ts
â”‚           â”‚   â”œâ”€â”€ hashing.ts
â”‚           â”‚   â”œâ”€â”€ jwt.ts
â”‚           â”‚   â”œâ”€â”€ api-key.ts
â”‚           â”‚   â””â”€â”€ rate-limiter.ts
â”‚           â””â”€â”€ utils/
â”‚               â”œâ”€â”€ logger.ts
â”‚               â”œâ”€â”€ validator.ts
â”‚               â”œâ”€â”€ mapper.ts
â”‚               â”œâ”€â”€ date.ts
â”‚               â”œâ”€â”€ string.ts
â”‚               â”œâ”€â”€ crypto.ts
â”‚               â””â”€â”€ performance.ts
â”‚
â”œâ”€â”€ components/                    # ğŸ¨ SHARED UI COMPONENTS
â”‚   â”œâ”€â”€ ui/                       # Base UI components (shadcn/ui)
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”œâ”€â”€ form.tsx
â”‚   â”‚   â”œâ”€â”€ table.tsx
â”‚   â”‚   â”œâ”€â”€ data-table.tsx
â”‚   â”‚   â”œâ”€â”€ chart.tsx
â”‚   â”‚   â”œâ”€â”€ tabs.tsx
â”‚   â”‚   â”œâ”€â”€ dropdown.tsx
â”‚   â”‚   â”œâ”€â”€ toast.tsx
â”‚   â”‚   â”œâ”€â”€ modal.tsx
â”‚   â”‚   â”œâ”€â”€ spinner.tsx
â”‚   â”‚   â”œâ”€â”€ badge.tsx
â”‚   â”‚   â”œâ”€â”€ progress.tsx
â”‚   â”‚   â””â”€â”€ skeleton.tsx
â”‚   â”œâ”€â”€ device/                   # Device-specific components
â”‚   â”‚   â”œâ”€â”€ device-card.tsx
â”‚   â”‚   â”œâ”€â”€ device-list.tsx
â”‚   â”‚   â”œâ”€â”€ device-table.tsx
â”‚   â”‚   â”œâ”€â”€ device-form.tsx
â”‚   â”‚   â”œâ”€â”€ device-metrics.tsx
â”‚   â”‚   â”œâ”€â”€ device-status.tsx
â”‚   â”‚   â”œâ”€â”€ ssh-terminal.tsx
â”‚   â”‚   â”œâ”€â”€ device-commands.tsx
â”‚   â”‚   â”œâ”€â”€ device-search.tsx
â”‚   â”‚   â””â”€â”€ device-filters.tsx
â”‚   â”œâ”€â”€ user/                     # User-specific components
â”‚   â”‚   â”œâ”€â”€ user-profile.tsx
â”‚   â”‚   â”œâ”€â”€ user-list.tsx
â”‚   â”‚   â”œâ”€â”€ user-form.tsx
â”‚   â”‚   â”œâ”€â”€ user-avatar.tsx
â”‚   â”‚   â”œâ”€â”€ user-menu.tsx
â”‚   â”‚   â”œâ”€â”€ login-form.tsx
â”‚   â”‚   â”œâ”€â”€ register-form.tsx
â”‚   â”‚   â””â”€â”€ password-form.tsx
â”‚   â”œâ”€â”€ monitoring/               # Monitoring components
â”‚   â”‚   â”œâ”€â”€ metrics-chart.tsx
â”‚   â”‚   â”œâ”€â”€ metrics-dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ alert-list.tsx
â”‚   â”‚   â”œâ”€â”€ alert-card.tsx
â”‚   â”‚   â”œâ”€â”€ alert-form.tsx
â”‚   â”‚   â”œâ”€â”€ threshold-config.tsx
â”‚   â”‚   â”œâ”€â”€ dashboard-widget.tsx
â”‚   â”‚   â”œâ”€â”€ real-time-chart.tsx
â”‚   â”‚   â””â”€â”€ system-health.tsx
â”‚   â”œâ”€â”€ analytics/                # Analytics components
â”‚   â”‚   â”œâ”€â”€ analytics-dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ report-builder.tsx
â”‚   â”‚   â”œâ”€â”€ data-visualization.tsx
â”‚   â”‚   â”œâ”€â”€ kpi-cards.tsx
â”‚   â”‚   â””â”€â”€ trend-charts.tsx
â”‚   â”œâ”€â”€ layout/                   # Layout components
â”‚   â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â”‚   â”œâ”€â”€ header.tsx
â”‚   â”‚   â”œâ”€â”€ footer.tsx
â”‚   â”‚   â”œâ”€â”€ navigation.tsx
â”‚   â”‚   â”œâ”€â”€ breadcrumbs.tsx
â”‚   â”‚   â”œâ”€â”€ page-header.tsx
â”‚   â”‚   â””â”€â”€ main-layout.tsx
â”‚   â””â”€â”€ common/                   # Common components
â”‚       â”œâ”€â”€ error-boundary.tsx
â”‚       â”œâ”€â”€ loading-spinner.tsx
â”‚       â”œâ”€â”€ not-found.tsx
â”‚       â”œâ”€â”€ search-box.tsx
â”‚       â”œâ”€â”€ pagination.tsx
â”‚       â”œâ”€â”€ sort-controls.tsx
â”‚       â”œâ”€â”€ filter-panel.tsx
â”‚       â””â”€â”€ confirmation-dialog.tsx
â”‚
â”œâ”€â”€ hooks/                        # ğŸ£ CUSTOM REACT HOOKS
â”‚   â”œâ”€â”€ commands/                 # Command hooks
â”‚   â”‚   â”œâ”€â”€ use-command.ts        # Generic command execution
â”‚   â”‚   â”œâ”€â”€ use-device-commands.ts
â”‚   â”‚   â”œâ”€â”€ use-user-commands.ts
â”‚   â”‚   â””â”€â”€ use-monitoring-commands.ts
â”‚   â”œâ”€â”€ queries/                  # Query hooks
â”‚   â”‚   â”œâ”€â”€ use-query.ts          # Generic query execution
â”‚   â”‚   â”œâ”€â”€ use-device-queries.ts
â”‚   â”‚   â”œâ”€â”€ use-user-queries.ts
â”‚   â”‚   â””â”€â”€ use-monitoring-queries.ts
â”‚   â”œâ”€â”€ domain/                   # Domain-specific hooks
â”‚   â”‚   â”œâ”€â”€ use-auth.ts           # Authentication state
â”‚   â”‚   â”œâ”€â”€ use-device-metrics.ts # Real-time device metrics
â”‚   â”‚   â”œâ”€â”€ use-ssh-session.ts    # SSH session management
â”‚   â”‚   â”œâ”€â”€ use-websocket.ts      # WebSocket connection
â”‚   â”‚   â”œâ”€â”€ use-notifications.ts  # Notification system
â”‚   â”‚   â””â”€â”€ use-real-time-data.ts # Real-time data updates
â”‚   â”œâ”€â”€ ui/                       # UI hooks
â”‚   â”‚   â”œâ”€â”€ use-toast.ts
â”‚   â”‚   â”œâ”€â”€ use-modal.ts
â”‚   â”‚   â”œâ”€â”€ use-theme.ts
â”‚   â”‚   â”œâ”€â”€ use-local-storage.ts
â”‚   â”‚   â”œâ”€â”€ use-debounce.ts
â”‚   â”‚   â””â”€â”€ use-pagination.ts
â”‚   â””â”€â”€ utils/                    # Utility hooks
â”‚       â”œâ”€â”€ use-async.ts
â”‚       â”œâ”€â”€ use-polling.ts
â”‚       â”œâ”€â”€ use-interval.ts
â”‚       â”œâ”€â”€ use-previous.ts
â”‚       â””â”€â”€ use-clipboard.ts
â”‚
â”œâ”€â”€ context/                      # âš›ï¸ REACT CONTEXT (DDD Integration)
â”‚   â”œâ”€â”€ providers/                # DDD Service Providers
â”‚   â”‚   â”œâ”€â”€ command-bus.provider.tsx   # Command bus provider
â”‚   â”‚   â”œâ”€â”€ query-bus.provider.tsx     # Query bus provider
â”‚   â”‚   â”œâ”€â”€ event-bus.provider.tsx     # Event bus provider
â”‚   â”‚   â””â”€â”€ dependency-injection.provider.tsx # DI container
â”‚   â”œâ”€â”€ domain/                   # Domain contexts
â”‚   â”‚   â”œâ”€â”€ auth.context.tsx      # Authentication context
â”‚   â”‚   â”œâ”€â”€ device.context.tsx    # Device management context
â”‚   â”‚   â”œâ”€â”€ monitoring.context.tsx # Monitoring context
â”‚   â”‚   â””â”€â”€ analytics.context.tsx # Analytics context
â”‚   â”œâ”€â”€ infrastructure/           # Infrastructure contexts
â”‚   â”‚   â”œâ”€â”€ websocket.context.tsx # WebSocket connections
â”‚   â”‚   â”œâ”€â”€ notification.context.tsx # Notifications
â”‚   â”‚   â”œâ”€â”€ theme.context.tsx     # Theme management
â”‚   â”‚   â””â”€â”€ realtime.context.tsx  # Real-time data
â”‚   â””â”€â”€ app.provider.tsx          # Root app provider
â”‚
â”œâ”€â”€ scripts/                      # ğŸ› ï¸ BUILD & DEVELOPMENT SCRIPTS
â”‚   â”œâ”€â”€ cli/                      # DDD CLI Generator
â”‚   â”‚   â”œâ”€â”€ index.js              # Main CLI entry
â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”œâ”€â”€ generate.js       # Generate DDD features
â”‚   â”‚   â”‚   â”œâ”€â”€ scaffold.js       # Scaffold new domain
â”‚   â”‚   â”‚   â”œâ”€â”€ validate.js       # Validate DDD structure
â”‚   â”‚   â”‚   â””â”€â”€ migrate.js        # Migration helper
â”‚   â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entity.template.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ value-object.template.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ service.template.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ repository.template.js
â”‚   â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ command.template.js
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ query.template.js
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ handler.template.js
â”‚   â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â”‚   â”‚       â”œâ”€â”€ dto.template.js
â”‚   â”‚   â”‚       â””â”€â”€ mapper.template.js
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ file-generator.js
â”‚   â”‚   â”‚   â”œâ”€â”€ name-converter.js
â”‚   â”‚   â”‚   â””â”€â”€ validation.js
â”‚   â”‚   â””â”€â”€ __tests__/
â”‚   â”‚       â”œâ”€â”€ cli.test.js
â”‚   â”‚       â””â”€â”€ templates.test.js
â”‚   â”œâ”€â”€ build/
â”‚   â”‚   â”œâ”€â”€ build-production.sh
â”‚   â”‚   â”œâ”€â”€ build-development.sh
â”‚   â”‚   â””â”€â”€ optimize.sh
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ migrate.sh
â”‚   â”‚   â”œâ”€â”€ seed.sh
â”‚   â”‚   â”œâ”€â”€ backup.sh
â”‚   â”‚   â””â”€â”€ reset.sh
â”‚   â”œâ”€â”€ deployment/
â”‚   â”‚   â”œâ”€â”€ docker-build.sh
â”‚   â”‚   â”œâ”€â”€ k8s-deploy.sh
â”‚   â”‚   â””â”€â”€ env-setup.sh
â”‚   â””â”€â”€ testing/
â”‚       â”œâ”€â”€ run-all-tests.sh
â”‚       â”œâ”€â”€ integration-tests.sh
â”‚       â”œâ”€â”€ e2e-tests.sh
â”‚       â””â”€â”€ performance-tests.sh
â”‚
â”œâ”€â”€ tests/                        # ğŸ§ª COMPREHENSIVE TEST SUITE
â”‚   â”œâ”€â”€ unit/                     # Unit tests
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ device/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ policies/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ queries/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ infrastructure/
â”‚   â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring/
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â”‚   â””â”€â”€ shared/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”œâ”€â”€ integration/              # Integration tests
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ devices.test.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.test.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ analytics.test.ts
â”‚   â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ migrations.test.ts
â”‚   â”‚   â””â”€â”€ external/
â”‚   â”‚       â”œâ”€â”€ mqtt.test.ts
â”‚   â”‚       â”œâ”€â”€ websocket.test.ts
â”‚   â”‚       â””â”€â”€ notifications.test.ts
â”‚   â”œâ”€â”€ e2e/                      # End-to-end tests
â”‚   â”‚   â”œâ”€â”€ user-flows/
â”‚   â”‚   â”‚   â”œâ”€â”€ device-management.spec.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ user-authentication.spec.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring-dashboard.spec.ts
â”‚   â”‚   â”‚   â””â”€â”€ analytics-reports.spec.ts
â”‚   â”‚   â”œâ”€â”€ page-objects/
â”‚   â”‚   â”‚   â”œâ”€â”€ login.page.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard.page.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ devices.page.ts
â”‚   â”‚   â”‚   â””â”€â”€ monitoring.page.ts
â”‚   â”‚   â””â”€â”€ fixtures/
â”‚   â”‚       â”œâ”€â”€ test-data.json
â”‚   â”‚       â”œâ”€â”€ mock-devices.json
â”‚   â”‚       â””â”€â”€ sample-metrics.json
â”‚   â”œâ”€â”€ performance/              # Performance tests
â”‚   â”‚   â”œâ”€â”€ load-testing/
â”‚   â”‚   â”‚   â”œâ”€â”€ api-endpoints.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ database-queries.test.ts
â”‚   â”‚   â”œâ”€â”€ stress-testing/
â”‚   â”‚   â”‚   â”œâ”€â”€ concurrent-users.test.ts
â”‚   â”‚   â”‚   â””â”€â”€ high-traffic.test.ts
â”‚   â”‚   â””â”€â”€ benchmark/
â”‚   â”‚       â”œâ”€â”€ command-handlers.test.ts
â”‚   â”‚       â””â”€â”€ query-handlers.test.ts
â”‚   â”œâ”€â”€ mocks/                    # Test mocks
â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”œâ”€â”€ external-services/
â”‚   â”‚   â”œâ”€â”€ websocket/
â”‚   â”‚   â””â”€â”€ notifications/
â”‚   â”œâ”€â”€ fixtures/                 # Test fixtures
â”‚   â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ files/
â”‚   â”‚   â””â”€â”€ responses/
â”‚   â””â”€â”€ setup/                    # Test setup
â”‚       â”œâ”€â”€ global-setup.ts
â”‚       â”œâ”€â”€ test-database.ts
â”‚       â”œâ”€â”€ mock-services.ts
â”‚       â””â”€â”€ test-utils.ts
â”‚
â”œâ”€â”€ docs/                         # ğŸ“š COMPREHENSIVE DOCUMENTATION
â”‚   â”œâ”€â”€ migration/
â”‚   â”‚   â”œâ”€â”€ README.md             # Migration overview
â”‚   â”‚   â”œâ”€â”€ phases/
â”‚   â”‚   â”‚   â”œâ”€â”€ phase-01.md
â”‚   â”‚   â”‚   â”œâ”€â”€ phase-02.md
â”‚   â”‚   â”‚   â””â”€â”€ ... (all 12 phases)
â”‚   â”‚   â”œâ”€â”€ architecture.md       # Architecture documentation
â”‚   â”‚   â”œâ”€â”€ testing.md           # Testing guide
â”‚   â”‚   â””â”€â”€ deployment.md        # Deployment guide
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ devices.md
â”‚   â”‚   â”œâ”€â”€ auth.md
â”‚   â”‚   â”œâ”€â”€ monitoring.md
â”‚   â”‚   â””â”€â”€ analytics.md
â”‚   â”œâ”€â”€ domains/
â”‚   â”‚   â”œâ”€â”€ device-domain.md
â”‚   â”‚   â”œâ”€â”€ user-domain.md
â”‚   â”‚   â”œâ”€â”€ monitoring-domain.md
â”‚   â”‚   â””â”€â”€ analytics-domain.md
â”‚   â”œâ”€â”€ patterns/
â”‚   â”‚   â”œâ”€â”€ cqrs.md
â”‚   â”‚   â”œâ”€â”€ event-sourcing.md
â”‚   â”‚   â”œâ”€â”€ repository-pattern.md
â”‚   â”‚   â””â”€â”€ value-objects.md
â”‚   â”œâ”€â”€ development/
â”‚   â”‚   â”œâ”€â”€ getting-started.md
â”‚   â”‚   â”œâ”€â”€ coding-standards.md
â”‚   â”‚   â”œâ”€â”€ cli-usage.md
â”‚   â”‚   â””â”€â”€ troubleshooting.md
â”‚   â””â”€â”€ deployment/
â”‚       â”œâ”€â”€ docker.md
â”‚       â”œâ”€â”€ kubernetes.md
â”‚       â”œâ”€â”€ monitoring.md
â”‚       â””â”€â”€ scaling.md
â”‚
â”œâ”€â”€ docker/                       # ğŸ³ CONTAINERIZATION
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ Dockerfile.dev
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”œâ”€â”€ docker-compose.dev.yml
â”‚   â”œâ”€â”€ docker-compose.prod.yml
â”‚   â””â”€â”€ nginx/
â”‚       â”œâ”€â”€ nginx.conf
â”‚       â””â”€â”€ ssl/
â”‚
â”œâ”€â”€ k8s/                          # â˜¸ï¸ KUBERNETES MANIFESTS
â”‚   â”œâ”€â”€ namespace.yaml
â”‚   â”œâ”€â”€ configmap.yaml
â”‚   â”œâ”€â”€ secrets.yaml
â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â”œâ”€â”€ service.yaml
â”‚   â”œâ”€â”€ ingress.yaml
â”‚   â”œâ”€â”€ hpa.yaml
â”‚   â””â”€â”€ monitoring/
â”‚       â”œâ”€â”€ prometheus.yaml
â”‚       â”œâ”€â”€ grafana.yaml
â”‚       â””â”€â”€ alertmanager.yaml
â”‚
â”œâ”€â”€ monitoring/                   # ğŸ“Š MONITORING & OBSERVABILITY
â”‚   â”œâ”€â”€ grafana/
â”‚   â”‚   â”œâ”€â”€ dashboards/
â”‚   â”‚   â”‚   â”œâ”€â”€ system-overview.json
â”‚   â”‚   â”‚   â”œâ”€â”€ device-metrics.json
â”‚   â”‚   â”‚   â”œâ”€â”€ user-activity.json
â”‚   â”‚   â”‚   â””â”€â”€ application-health.json
â”‚   â”‚   â””â”€â”€ provisioning/
â”‚   â”œâ”€â”€ prometheus/
â”‚   â”‚   â”œâ”€â”€ prometheus.yml
â”‚   â”‚   â”œâ”€â”€ rules/
â”‚   â”‚   â”‚   â”œâ”€â”€ device-alerts.yml
â”‚   â”‚   â”‚   â”œâ”€â”€ system-alerts.yml
â”‚   â”‚   â”‚   â””â”€â”€ application-alerts.yml
â”‚   â”‚   â””â”€â”€ targets/
â”‚   â””â”€â”€ alertmanager/
â”‚       â”œâ”€â”€ alertmanager.yml
â”‚       â””â”€â”€ templates/
â”‚
â”œâ”€â”€ config/                       # âš™ï¸ CONFIGURATION FILES
â”‚   â”œâ”€â”€ environments/
â”‚   â”‚   â”œâ”€â”€ development.env
â”‚   â”‚   â”œâ”€â”€ staging.env
â”‚   â”‚   â”œâ”€â”€ production.env
â”‚   â”‚   â””â”€â”€ test.env
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ prisma.schema
â”‚   â”‚   â””â”€â”€ migrations/
â”‚   â”œâ”€â”€ nginx/
â”‚   â”‚   â”œâ”€â”€ development.conf
â”‚   â”‚   â””â”€â”€ production.conf
â”‚   â””â”€â”€ ssl/
â”‚       â”œâ”€â”€ certificates/
â”‚       â””â”€â”€ keys/
â”‚
â”œâ”€â”€ public/                       # ğŸŒ STATIC ASSETS
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ logos/
â”‚   â”‚   â”œâ”€â”€ icons/
â”‚   â”‚   â””â”€â”€ screenshots/
â”‚   â”œâ”€â”€ fonts/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ manifest.json
â”‚
â”œâ”€â”€ styles/                       # ğŸ¨ GLOBAL STYLES
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ components.css
â”‚   â”œâ”€â”€ utilities.css
â”‚   â””â”€â”€ themes/
â”‚       â”œâ”€â”€ light.css
â”‚       â””â”€â”€ dark.css
â”‚
â”œâ”€â”€ types/                        # ğŸ“ TYPESCRIPT DEFINITIONS
â”‚   â”œâ”€â”€ global.d.ts
â”‚   â”œâ”€â”€ api.types.ts
â”‚   â”œâ”€â”€ database.types.ts
â”‚   â”œâ”€â”€ websocket.types.ts
â”‚   â””â”€â”€ environment.d.ts
â”‚
â”œâ”€â”€ utils/                        # ğŸ”§ UTILITY FUNCTIONS
â”‚   â”œâ”€â”€ constants.ts
â”‚   â”œâ”€â”€ helpers.ts
â”‚   â”œâ”€â”€ formatters.ts
â”‚   â”œâ”€â”€ validators.ts
â”‚   â””â”€â”€ test-utils.ts
â”‚
â”œâ”€â”€ migrations/                   # ğŸ—„ï¸ DATABASE MIGRATIONS
â”‚   â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ data/
â”‚       â”œâ”€â”€ seeds/
â”‚       â””â”€â”€ fixtures/
â”‚
â”œâ”€â”€ .github/                      # ğŸ”„ CI/CD & GITHUB
â”‚   â”œâ”€â”€ workflows/
â”‚   â”‚   â”œâ”€â”€ ci.yml
â”‚   â”‚   â”œâ”€â”€ cd.yml
â”‚   â”‚   â”œâ”€â”€ tests.yml
â”‚   â”‚   â”œâ”€â”€ security.yml
â”‚   â”‚   â””â”€â”€ release.yml
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/
â”‚   â”œâ”€â”€ PULL_REQUEST_TEMPLATE.md
â”‚   â””â”€â”€ dependabot.yml
â”‚
â”œâ”€â”€ .vscode/                      # ğŸ› ï¸ VS CODE CONFIGURATION
â”‚   â”œâ”€â”€ settings.json
â”‚   â”œâ”€â”€ extensions.json
â”‚   â”œâ”€â”€ launch.json
â”‚   â””â”€â”€ tasks.json
â”‚
â”œâ”€â”€ middleware.ts                 # ğŸ›¡ï¸ NEXT.JS MIDDLEWARE
â”œâ”€â”€ next.config.js                # âš¡ NEXT.JS CONFIGURATION
â”œâ”€â”€ tailwind.config.js            # ğŸ¨ TAILWIND CONFIGURATION
â”œâ”€â”€ postcss.config.js             # ğŸ¨ POSTCSS CONFIGURATION
â”œâ”€â”€ tsconfig.json                 # ğŸ“ TYPESCRIPT CONFIGURATION
â”œâ”€â”€ jest.config.js                # ğŸ§ª JEST CONFIGURATION
â”œâ”€â”€ playwright.config.ts          # ğŸ­ PLAYWRIGHT CONFIGURATION
â”œâ”€â”€ eslint.config.js              # ğŸ“ ESLINT CONFIGURATION
â”œâ”€â”€ prettier.config.js            # ğŸ’… PRETTIER CONFIGURATION
â”œâ”€â”€ package.json                  # ğŸ“¦ DEPENDENCIES & SCRIPTS
â”œâ”€â”€ package-lock.json             # ğŸ”’ DEPENDENCY LOCK
â”œâ”€â”€ .env.example                  # ğŸ”§ ENVIRONMENT TEMPLATE
â”œâ”€â”€ .gitignore                    # ğŸ™ˆ GIT IGNORE
â”œâ”€â”€ .dockerignore                 # ğŸ³ DOCKER IGNORE
â”œâ”€â”€ README.md                     # ğŸ“– PROJECT README
â”œâ”€â”€ CHANGELOG.md                  # ğŸ“ CHANGE LOG
â”œâ”€â”€ LICENSE                       # âš–ï¸ LICENSE FILE
â””â”€â”€ CONTRIBUTING.md               # ğŸ¤ CONTRIBUTION GUIDE
```

## ğŸ¯ Key Features of This Structure

### âœ… **Production-Ready Architecture**
- **Complete DDD Implementation** with 4 bounded contexts
- **CQRS Pattern** with command/query separation
- **Event-Driven Architecture** for loose coupling
- **Domain Events** for cross-domain communication
- **Clean Architecture** with proper layering

### âœ… **Comprehensive Testing Strategy**
- **Unit Tests** for all domain logic
- **Integration Tests** for API endpoints
- **E2E Tests** for user workflows
- **Performance Tests** for scalability
- **85%+ Test Coverage** target

### âœ… **Developer Experience**
- **CLI Generator** for scaffolding new features
- **Comprehensive Documentation** for all patterns
- **Type Safety** throughout the application
- **Hot Reload** in development
- **VS Code Integration** with optimized settings

### âœ… **Production Deployment**
- **Docker Containerization** for consistent deployment
- **Kubernetes Manifests** for orchestration
- **Monitoring & Observability** with Grafana/Prometheus
- **CI/CD Pipelines** for automated deployment
- **Security** with proper authentication/authorization

### âœ… **Scalability & Performance**
- **Horizontal Scaling** support
- **Caching Strategies** with Redis
- **Database Optimization** with proper indexing
- **WebSocket Support** for real-time features
- **Load Balancing** configuration

### ğŸš€ **Ready for Production Use**
This structure supports:
- **IoT Device Management** at scale
- **Real-time Monitoring** with alerts
- **User Management** with roles/permissions
- **Analytics & Reporting** capabilities
- **Multi-tenant Architecture** (if needed)

The migration plan transforms your existing IoT Pilot Server into a enterprise-grade, domain-driven application ready for production deployment and long-term maintenance.

## ğŸ”§ Core Infrastructure Setup

### 1. Command & Query Bus System

```typescript
// lib/shared/application/bus/command.bus.ts
export interface CommandBus {
    execute<T>(command: T): Promise<void>;
}

export class InMemoryCommandBus implements CommandBus {
    private handlers = new Map<string, any>();

    register<T>(commandClass: new (...args: any[]) => T, handler: any) {
        this.handlers.set(commandClass.name, handler);
    }

    async execute<T>(command: T): Promise<void> {
        const handler = this.handlers.get(command.constructor.name);
        if (!handler) {
            throw new Error(`No handler found for ${command.constructor.name}`);
        }
        return await handler.handle(command);
    }
}
```

### 2. Event Bus System

```typescript
// lib/shared/application/bus/event.bus.ts
export interface EventBus {
    publish(event: DomainEvent): Promise<void>;

    subscribe<T extends DomainEvent>(
        eventType: string,
        handler: (event: T) => Promise<void>
    ): void;
}

export class InMemoryEventBus implements EventBus {
    private subscribers = new Map<string, Array<(event: any) => Promise<void>>>();

    subscribe<T extends DomainEvent>(
        eventType: string,
        handler: (event: T) => Promise<void>
    ): void {
        if (!this.subscribers.has(eventType)) {
            this.subscribers.set(eventType, []);
        }
        this.subscribers.get(eventType)!.push(handler);
    }

    async publish(event: DomainEvent): Promise<void> {
        const handlers = this.subscribers.get(event.constructor.name) || [];
        await Promise.all(handlers.map(handler => handler(event)));
    }
}
```

### 3. Repository Pattern

```typescript
// lib/shared/domain/interfaces/repository.interface.ts
export interface Repository<T, ID> {
    findById(id: ID): Promise<T | null>;

    findAll(): Promise<T[]>;

    save(entity: T): Promise<void>;

    delete(id: ID): Promise<void>;
}

// lib/device/infrastructure/repositories/prisma-device.repository.ts
export class PrismaDeviceRepository implements DeviceRepository {
    constructor(private prisma: PrismaClient) {
    }

    async findById(id: DeviceId): Promise<Device | null> {
        const deviceData = await this.prisma.device.findUnique({
            where: {id: id.value}
        });

        return deviceData ? DeviceMapper.toDomain(deviceData) : null;
    }

    async save(device: Device): Promise<void> {
        const deviceData = DeviceMapper.toPersistence(device);
        await this.prisma.device.upsert({
            where: {id: deviceData.id},
            update: deviceData,
            create: deviceData
        });
    }
}
```

### 4. React Context for Dependency Injection

```typescript
// context/command-bus.context.tsx
const CommandBusContext = createContext<CommandBus | null>(null);

export function CommandBusProvider({children}: {
    children: ReactNode
}) {
    const commandBus = useMemo(() => {
        const bus = new InMemoryCommandBus();

        // Register handlers
        bus.register(RegisterDeviceCommand, new RegisterDeviceHandler(
            new PrismaDeviceRepository(prisma)
        ));

        return bus;
    }, []);

    return (
        <CommandBusContext.Provider value = {commandBus} >
            {children}
            < /CommandBusContext.Provider>
    );
}

export function useCommandBus() {
    const context = useContext(CommandBusContext);
    if (!context) {
        throw new Error('useCommandBus must be used within CommandBusProvider');
    }
    return context;
}
```

### 5. Custom Hooks for Use Cases

```tsx
// hooks/use-command.ts
export function useCommand<T>() {
    const commandBus = useCommandBus();
    const [loading, setLoading] = useState(false);
    const [error, setError] = useState<string | null>(null);

    const execute = useCallback(async (command: T) => {
        try {
            setLoading(true);
            setError(null);
            await commandBus.execute(command);
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Unknown error');
            throw err;
        } finally {
            setLoading(false);
        }
    }, [commandBus]);

    return {
        execute,
        loading,
        error
    };
}

// Usage in components
function DeviceForm() {
    const {
        execute,
        loading,
        error
    } = useCommand<RegisterDeviceCommand>();

    const handleSubmit = async (data: DeviceFormData) => {
        const command = new RegisterDeviceCommand(
            data.name,
            data.ipAddress,
            data.sshCredentials
        );

        await execute(command);
    };

    return (
        <form onSubmit = {handleSubmit} >
            {/* form fields */}
            < button
    disabled = {loading} >
        {loading ? 'Registering...' : 'Register Device'}
        < /button>
    {
        error && <div className = "error" > {error} < /div>}
            < /form>
    )
        ;
    }
```

## ğŸ“ File Migration Mapping

### Current â†’ Target Structure:

| Current File                    | Target Location                                            | Notes                                                  |
|---------------------------------|------------------------------------------------------------|--------------------------------------------------------|
| src/app/api/devices/route.ts    | src/app/api/devices/route.ts                               | Becomes thin controller calling command/query handlers |
| src/lib/auth.ts                 | src/lib/user/domain/services/auth-service.ts               | Move to user domain                                    |
| src/lib/db.ts                   | src/lib/shared/infrastructure/persistence/prisma.client.ts | Shared infrastructure                                  |
| src/components/device-list.tsx  | src/components/device/device-list.tsx                      | Domain-specific components                             |
| src/components/ssh-terminal.tsx | src/components/device/ssh-terminal.tsx                     | Part of device domain                                  |
| src/contexts/socket.tsx         | src/context/websocket.context.tsx                          | Infrastructure concern                                 |

### New Files to Create:

| File                                                                           | Purpose                           |
|--------------------------------------------------------------------------------|-----------------------------------|
| src/lib/device/application/commands/register-device/register-device.command.ts | Device registration use case      |
| src/lib/device/domain/entities/device.entity.ts                                | Core device business logic        |
| src/lib/device/domain/value-objects/device-id.vo.ts                            | Strong typing for device ID       |
| src/lib/shared/application/bus/command.bus.ts                                  | Command handling infrastructure   |
| src/hooks/use-command.ts                                                       | React hook for command execution  |
| src/context/command-bus.context.tsx                                            | Dependency injection for commands |

This structure maintains your current functionality while introducing proper DDD patterns, making the codebase more
maintainable and testable. The migration can be done incrementally, starting with one domain at a time.

## ğŸ“‹ IoT Pilot Server DDD Migration Plan

### ğŸ¯ Migration Overview

This plan migrates the IoT Pilot Server from a traditional Next.js structure to a Domain-Driven Design (DDD)architecture
in 12 phases, with each phase being tested and validated before proceeding to the next.

- **Timeline**: 6-8 weeks (assuming part-time work)
- **Strategy**: Incremental migration with backward compatibility
- **Testing**: Comprehensive test coverage at each phase

### ğŸ“Š Migration Phases Overview

| Task # | Phase | Focus                                   | Duration | Risk Level |
|--------|-------|-----------------------------------------|----------|------------|
| 1      | 1     | Project Setup & Structure               | 3-5 days | Low        |
| 2      | 2     | Shared Kernel & Infrastructure          | 4-6 days | Medium     |
| 3      | 3     | User Domain Migration                   | 5-7 days | Medium     |
| 4      | 4     | Device Domain - Entities & VOs          | 4-6 days | Low        |
| 5      | 5     | Device Domain - Services & Repositories | 5-7 days | Medium     |
| 6      | 6     | Device Domain - Use Cases               | 6-8 days | High       |
| 7      | 7     | Monitoring Domain Migration             | 5-7 days | Medium     |
| 8      | 8     | API Routes Refactoring                  | 4-6 days | High       |
| 9      | 9     | Frontend Integration                    | 5-7 days | Medium     |
| 10     | 10    | Testing & Validation                    | 3-5 days | Low        |
| 11     | 11    | CLI Generator Development               | 4-6 days | Low        |
| 12     | 12    | Documentation & Cleanup                 | 2-3 days | Low        |

## ğŸš€ Task 1: Phase 1 - Project Setup & Structure (3-5 days)

### ğŸ“ Task 1.1: Create New Directory Structure

```bash
# Create the new DDD structure
mkdir -p src/lib/{shared,device,user,monitoring}/{domain,application,infrastructure}
mkdir -p src/lib/shared/{domain/{entities,value-objects,interfaces,exceptions,events},application/{bus,interfaces,dto},infrastructure/{persistence,config,middleware,utils}}
mkdir -p src/lib/device/{domain/{entities,value-objects,services,interfaces,policies,events,exceptions},application/{commands,queries,services},infrastructure/{repositories,services,dto,mappers}}
mkdir -p src/lib/user/{domain/{entities,value-objects,services,interfaces,policies,events,exceptions},application/{commands,queries,services},infrastructure/{repositories,services,dto,mappers}}
mkdir -p src/lib/monitoring/{domain/{entities,value-objects,services,interfaces,policies,events,exceptions},application/{commands,queries,services},infrastructure/{repositories,services,dto,mappers}}
mkdir -p src/{components/{ui,device,monitoring,layout},hooks,context,types}
```

### ğŸ“¦ Task 1.2: Install Required Dependencies

```bash
# DDD and testing dependencies
npm install --save-dev @types/jest jest ts-jest @testing-library/react @testing-library/jest-dom
npm install --save-dev vitest @vitejs/plugin-react jsdom
npm install zod class-validator class-transformer reflect-metadata
npm install mitt eventemitter3 uuid
npm install --save-dev @types/uuid

# Update package.json scripts
```

package.json updates:

```json
{
  "scripts": {
    "test": "vitest",
    "test:ui": "vitest --ui",
    "test:coverage": "vitest --coverage",
    "test:e2e": "playwright test",
    "ddd:generate": "node scripts/generate-ddd-feature.js"
  }
}
```

### âš™ï¸ Task 1.3: Configure Testing Environment

vitest.config.ts:

```typescript
import {defineConfig} from 'vitest/config'
import react from '@vitejs/plugin-react'
import path from 'path'

export default defineConfig({
    plugins: [react()],
    test: {
        globals: true,
        environment: 'jsdom',
        setupFiles: ['./src/test/setup.ts'],
    },
    resolve: {
        alias: {
            '@': path.resolve(__dirname, './src'),
            '@/lib': path.resolve(__dirname, './src/lib'),
            '@/components': path.resolve(__dirname, './src/components'),
        },
    },
})
```

src/test/setup.ts:

```typescript
import '@testing-library/jest-dom'
import {beforeAll, afterEach, afterAll} from 'vitest'
import {cleanup} from '@testing-library/react'

beforeAll(() => {
    // Setup test environment
})

afterEach(() => {
    cleanup()
})

afterAll(() => {
    // Cleanup test environment
})
```

### âœ… Task 1.4: Phase 1 Validation

- Directory structure created
- Dependencies installed
- Test environment configured
- npm run test executes successfully
- All existing functionality still works